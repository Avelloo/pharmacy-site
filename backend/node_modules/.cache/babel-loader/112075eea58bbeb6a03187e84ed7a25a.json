{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{listProductFormRelease,deleteFormRelease,createFormRelease}from\"../actions/productActions\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{PRODUCT_FORMRELEASE_CREATE_RESET,PRODUCT_FORMRELEASE_DELETE_RESET}from\"../constants/productConstants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FormReleaseScreen(props){var formReleaseList=useSelector(function(state){return state.productFormReleaseList;});var loading=formReleaseList.loading,error=formReleaseList.error,formReleases=formReleaseList.formReleases;var formReleaseDelete=useSelector(function(state){return state.productFormReleaseDelete;});var formReleaseCreate=useSelector(function(state){return state.productFormReleaseCreate;});var loadingCreate=formReleaseCreate.loading,errorCreate=formReleaseCreate.error,successCreate=formReleaseCreate.success,createdFormRelease=formReleaseCreate.formRelease;var loadingDelete=formReleaseDelete.loading,errorDelete=formReleaseDelete.error,successDelete=formReleaseDelete.success;var dispatch=useDispatch();useEffect(function(){if(successCreate){dispatch({type:PRODUCT_FORMRELEASE_CREATE_RESET});props.history.push(\"/formRelease/\".concat(createdFormRelease._id,\"/edit\"));window.location.reload(false);}if(successDelete){dispatch({type:PRODUCT_FORMRELEASE_DELETE_RESET});window.location.reload(false);}dispatch(listProductFormRelease());},[createdFormRelease,dispatch,props.history,successCreate,successDelete]);var clickHandler=function clickHandler(){dispatch(createFormRelease());};var deleteHandler=function deleteHandler(formRelease){if(window.confirm(\"Вы уверены?\")){dispatch(deleteFormRelease(formRelease._id));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"tableDiv\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"row center\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0444\\u043E\\u0440\\u043C\\u0430\\u043C\\u0438 \\u0432\\u044B\\u043F\\u0443\\u0441\\u043A\\u0430\"}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBox,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDelete}),loadingCreate&&/*#__PURE__*/_jsx(LoadingBox,{}),errorCreate&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorCreate}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0444\\u043E\\u0440\\u043C\\u044B \\u0432\\u044B\\u043F\\u0443\\u0441\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:formReleases.map(function(formRelease){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:formRelease._id}),/*#__PURE__*/_jsx(\"td\",{children:formRelease.name}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return props.history.push(\"/formRelease/\".concat(formRelease._id,\"/edit\"));},children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(formRelease);},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})]},formRelease._id);})})]}),/*#__PURE__*/_jsx(\"button\",{style:{width:\"20%\",margin:\"2rem 40%\",borderRadius:\"0\"},type:\"button\",className:\"shadow\",onClick:clickHandler,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u0443\\u044E \\u0444\\u043E\\u0440\\u043C\\u0443 \\u0432\\u044B\\u043F\\u0443\\u0441\\u043A\\u0430\"})]});}","map":{"version":3,"sources":["C:/Users/aloob/Desktop/pharmacy-site/frontend/src/screens/FormReleaseScreen.js"],"names":["React","useEffect","useDispatch","useSelector","listProductFormRelease","deleteFormRelease","createFormRelease","LoadingBox","MessageBox","PRODUCT_FORMRELEASE_CREATE_RESET","PRODUCT_FORMRELEASE_DELETE_RESET","FormReleaseScreen","props","formReleaseList","state","productFormReleaseList","loading","error","formReleases","formReleaseDelete","productFormReleaseDelete","formReleaseCreate","productFormReleaseCreate","loadingCreate","errorCreate","successCreate","success","createdFormRelease","formRelease","loadingDelete","errorDelete","successDelete","dispatch","type","history","push","_id","window","location","reload","clickHandler","deleteHandler","confirm","map","name","width","margin","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  listProductFormRelease,\n  deleteFormRelease,\n  createFormRelease,\n} from \"../actions/productActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport {\n\n  PRODUCT_FORMRELEASE_CREATE_RESET,\n  PRODUCT_FORMRELEASE_DELETE_RESET,\n\n} from \"../constants/productConstants\";\n\nexport default function FormReleaseScreen(props) {\n  const formReleaseList = useSelector((state) => state.productFormReleaseList);\n  const { loading, error, formReleases } = formReleaseList;\n\n  const formReleaseDelete = useSelector(\n    (state) => state.productFormReleaseDelete\n  );\n  const formReleaseCreate = useSelector(\n    (state) => state.productFormReleaseCreate\n  );\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    formRelease: createdFormRelease,\n  } = formReleaseCreate;\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = formReleaseDelete;\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (successCreate) {\n      dispatch({ type: PRODUCT_FORMRELEASE_CREATE_RESET });\n      props.history.push(`/formRelease/${createdFormRelease._id}/edit`);\n      window.location.reload(false);\n    }\n    if (successDelete) {\n      dispatch({ type: PRODUCT_FORMRELEASE_DELETE_RESET });\n      window.location.reload(false);\n    }\n    dispatch(listProductFormRelease());\n  }, [\n    createdFormRelease,\n    dispatch,\n    props.history,\n    successCreate,\n    successDelete,\n  ]);\n\n  const clickHandler = () => {\n    dispatch(createFormRelease());\n  };\n  const deleteHandler = (formRelease) => {\n    if (window.confirm(\"Вы уверены?\")) {\n      dispatch(deleteFormRelease(formRelease._id));\n    }\n  };\n\n  return (\n    <div className=\"tableDiv\">\n      <h1 className=\"row center\">Управление формами выпуска</h1>\n      \n      {loadingDelete && <LoadingBox></LoadingBox>}\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\n\n      {loadingCreate && <LoadingBox></LoadingBox>}\n      {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Наименование формы выпуска</th>\n              <th>Действия</th>\n            </tr>\n          </thead>\n          <tbody>\n            {formReleases.map((formRelease) => (\n              <tr key={formRelease._id}>\n                <td>{formRelease._id}</td>\n                <td>{formRelease.name}</td>\n                <td>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() =>\n                      props.history.push(`/formRelease/${formRelease._id}/edit`)\n                    }\n                  >\n                    Редактировать\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() => deleteHandler(formRelease)}\n                  >\n                    Удалить\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        \n      )}\n      <button\n        style={{ width: \"20%\",margin: \"2rem 40%\",  borderRadius: \"0\" }}\n        type=\"button\"\n        className=\"shadow\"\n        onClick={clickHandler}\n      >\n        Добавить новую форму выпуска\n      </button>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}