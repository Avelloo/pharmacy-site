{"ast":null,"code":"import _slicedToArray from\"C:/Users/aloob/Desktop/pharmacy-site/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{detailsUser,updateUser}from\"../actions/userActions\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{USER_UPDATE_RESET}from\"../constants/userConstants\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UserEditScreen(props){var userId=props.match.params.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSeller=_useState6[0],setIsSeller=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isAdmin=_useState8[0],setIsAdmin=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),canManageProducts=_useState10[0],setCanManageProducts=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),canManageOrders=_useState12[0],setCanManageOrders=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),canManageCategories=_useState14[0],setCanManageCategories=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),canManageFormReleases=_useState16[0],setCanManageFormReleases=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),canManageProviders=_useState18[0],setCanManageProviders=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),canManageSupport=_useState20[0],setCanManageSupport=_useState20[1];var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,error=userDetails.error,user=userDetails.user;var userUpdate=useSelector(function(state){return state.userUpdate;});var loadingUpdate=userUpdate.loading,errorUpdate=userUpdate.error,successUpdate=userUpdate.success;var dispatch=useDispatch();useEffect(function(){if(successUpdate){dispatch({type:USER_UPDATE_RESET});if(user.isWorker){props.history.push(\"/workers\");}else{props.history.push(\"/userlist\");}}if(!user){dispatch(detailsUser(userId));}else{setName(user.name);setEmail(user.email);setCanManageProducts(user.canManageProducts);setCanManageFormReleases(user.canManageFormReleases);setCanManageProviders(user.canManageProviders);setCanManageSupport(user.canManageSupport);setCanManageOrders(user.canManageOrders);setCanManageCategories(user.canManageCategories);}},[dispatch,props.history,successUpdate,user,userId]);var canManageProductsHandler=function canManageProductsHandler(){console.log(\"Было:\"+canManageProducts);setCanManageProducts(!canManageProducts);};var canManageFormReleasesHandler=function canManageFormReleasesHandler(){console.log(\"Было:\"+canManageFormReleases);setCanManageFormReleases(!canManageFormReleases);};var canManageOrdersHandler=function canManageOrdersHandler(){console.log(\"Было:\"+canManageOrders);setCanManageOrders(!canManageOrders);};var canManageCategoriesHandler=function canManageCategoriesHandler(){console.log(\"Было:\"+canManageCategories);setCanManageCategories(!canManageCategories);};var canManageSupportHandler=function canManageSupportHandler(){console.log(\"Было:\"+canManageSupport);setCanManageSupport(!canManageSupport);};var canManageProvidersHandler=function canManageProvidersHandler(){console.log(\"Было:\"+canManageProviders);setCanManageProviders(!canManageProviders);};var submitHandler=function submitHandler(e){e.preventDefault();// dispatch update user\ndispatch(updateUser({_id:userId,name:name,email:email,isSeller:isSeller,isAdmin:isAdmin,canManageFormReleases:canManageFormReleases,canManageProducts:canManageProducts,canManageProviders:canManageProviders,canManageSupport:canManageSupport,canManageCategories:canManageCategories,canManageOrders:canManageOrders}));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F \\\"\",name,\"\\\"\"]}),loadingUpdate&&/*#__PURE__*/_jsx(LoadingBox,{}),errorUpdate&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorUpdate})]}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"\\u0418\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{id:\"name\",type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),user.isWorker?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"center\",children:\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430 \\u043F\\u0440\\u0430\\u0432 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430 \\u0434\\u043B\\u044F \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u043E\\u0432\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'contents',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:canManageProducts,onChange:canManageProductsHandler}),\"\\u041C\\u043E\\u0436\\u0435\\u0442 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\\u043C\\u0438?\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:canManageOrders,onChange:canManageOrdersHandler}),\"\\u041C\\u043E\\u0436\\u0435\\u0442 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\\u043C\\u0438?\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:canManageCategories,onChange:canManageCategoriesHandler}),\"\\u041C\\u043E\\u0436\\u0435\\u0442 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\\u043C\\u0438?\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:canManageFormReleases,onChange:canManageFormReleasesHandler}),\"\\u041C\\u043E\\u0436\\u0435\\u0442 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u0444\\u043E\\u0440\\u043C\\u0430\\u043C\\u0438 \\u0432\\u044B\\u043F\\u0443\\u0441\\u043A\\u0430?\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:canManageProviders,onChange:canManageProvidersHandler}),\"\\u041C\\u043E\\u0436\\u0435\\u0442 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u043F\\u043E\\u0441\\u0442\\u0430\\u0432\\u0449\\u0438\\u043A\\u0430\\u043C\\u0438?\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:canManageSupport,onChange:canManageSupportHandler}),\"\\u041C\\u043E\\u0436\\u0435\\u0442 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u043E\\u0431\\u0440\\u0430\\u0442\\u043D\\u0443\\u044E \\u0441\\u0432\\u044F\\u0437\\u044C \\u0441 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\\u043C\\u0438?\"]})]})]}):\"\",/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"primary\",children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"})})]})]})});}","map":{"version":3,"sources":["C:/Users/aloob/Desktop/pharmacy-site/frontend/src/screens/UserEditScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","detailsUser","updateUser","LoadingBox","MessageBox","USER_UPDATE_RESET","UserEditScreen","props","userId","match","params","id","name","setName","email","setEmail","isSeller","setIsSeller","isAdmin","setIsAdmin","canManageProducts","setCanManageProducts","canManageOrders","setCanManageOrders","canManageCategories","setCanManageCategories","canManageFormReleases","setCanManageFormReleases","canManageProviders","setCanManageProviders","canManageSupport","setCanManageSupport","userDetails","state","loading","error","user","userUpdate","loadingUpdate","errorUpdate","successUpdate","success","dispatch","type","isWorker","history","push","canManageProductsHandler","console","log","canManageFormReleasesHandler","canManageOrdersHandler","canManageCategoriesHandler","canManageSupportHandler","canManageProvidersHandler","submitHandler","e","preventDefault","_id","target","value","display","margin"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { detailsUser, updateUser } from \"../actions/userActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { USER_UPDATE_RESET } from \"../constants/userConstants\";\n\nexport default function UserEditScreen(props) {\n  const userId = props.match.params.id;\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [isSeller, setIsSeller] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [canManageProducts, setCanManageProducts] = useState(false);\n  const [canManageOrders, setCanManageOrders] = useState(false);\n  const [canManageCategories, setCanManageCategories] = useState(false);\n  const [canManageFormReleases, setCanManageFormReleases] = useState(false);\n  const [canManageProviders, setCanManageProviders] = useState(false);\n  const [canManageSupport, setCanManageSupport] = useState(false);\n  const userDetails = useSelector((state) => state.userDetails);\n  const { loading, error, user } = userDetails;\n\n  const userUpdate = useSelector((state) => state.userUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate,\n  } = userUpdate;\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (successUpdate) {\n      dispatch({ type: USER_UPDATE_RESET });\n      if (user.isWorker) {\n        props.history.push(\"/workers\");\n      } else {\n        props.history.push(\"/userlist\");\n      }\n    }\n    if (!user) {\n      dispatch(detailsUser(userId));\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n      setCanManageProducts(user.canManageProducts);\n      setCanManageFormReleases(user.canManageFormReleases);\n      setCanManageProviders(user.canManageProviders);\n      setCanManageSupport(user.canManageSupport);\n      setCanManageOrders(user.canManageOrders);\n      setCanManageCategories(user.canManageCategories);\n    }\n  }, [dispatch, props.history, successUpdate, user, userId]);\n\n  const canManageProductsHandler = () => {\n    console.log(\"Было:\" + canManageProducts);\n    setCanManageProducts(!canManageProducts);\n  };\n  const canManageFormReleasesHandler = () => {\n    console.log(\"Было:\" + canManageFormReleases);\n    setCanManageFormReleases(!canManageFormReleases);\n  };\n  const canManageOrdersHandler = () => {\n    console.log(\"Было:\" + canManageOrders);\n    setCanManageOrders(!canManageOrders);\n  };\n  const canManageCategoriesHandler = () => {\n    console.log(\"Было:\" + canManageCategories);\n    setCanManageCategories(!canManageCategories);\n  };\n  const canManageSupportHandler = () => {\n    console.log(\"Было:\" + canManageSupport);\n    setCanManageSupport(!canManageSupport);\n  };\n  const canManageProvidersHandler = () => {\n    console.log(\"Было:\" + canManageProviders);\n    setCanManageProviders(!canManageProviders);\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    // dispatch update user\n    dispatch(\n      updateUser({\n        _id: userId,\n        name,\n        email,\n        isSeller,\n        isAdmin,\n        canManageFormReleases,\n        canManageProducts,\n        canManageProviders,\n        canManageSupport,\n        canManageCategories,\n        canManageOrders,\n      })\n    );\n  };\n  return (\n    <div>\n      <form className=\"form\" onSubmit={submitHandler}>\n        <div>\n          <h1>Редактирование пользователя \"{name}\"</h1>\n          {loadingUpdate && <LoadingBox></LoadingBox>}\n          {errorUpdate && (\n            <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>\n          )}\n        </div>\n        {loading ? (\n          <LoadingBox />\n        ) : error ? (\n          <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n          <>\n            <div>\n              <label htmlFor=\"name\">Имя</label>\n              <input\n                id=\"name\"\n                type=\"text\"\n                placeholder=\"Введите имя\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              ></input>\n            </div>\n            <div>\n              <label htmlFor=\"email\">Email</label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"Введите email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              ></input>\n            </div>\n            {user.isWorker ? (\n              <div>\n                <label className=\"center\">\n                  Настройка прав доступа для сотрудников\n                </label>\n                <div style={{display:'contents', margin:'0 auto'}}>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={canManageProducts}\n                      onChange={canManageProductsHandler}\n                    />\n                    Может управлять товарами?\n                  </label>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={canManageOrders}\n                      onChange={canManageOrdersHandler}\n                    />\n                    Может управлять заказами?\n                  </label>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={canManageCategories}\n                      onChange={canManageCategoriesHandler}\n                    />\n                    Может управлять категориями?\n                  </label>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={canManageFormReleases}\n                      onChange={canManageFormReleasesHandler}\n                    />\n                    Может управлять формами выпуска?\n                  </label>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={canManageProviders}\n                      onChange={canManageProvidersHandler}\n                    />\n                    Может управлять поставщиками?\n                  </label>\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={canManageSupport}\n                      onChange={canManageSupportHandler}\n                    />\n                    Может использовать обратную связь с клиентами?\n                  </label>\n                </div>\n              </div>\n            ) : (\n              \"\"\n            )}\n            <div>\n              <button type=\"submit\" className=\"primary\">\n                Обновить\n              </button>\n            </div>\n          </>\n        )}\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}