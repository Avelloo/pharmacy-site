{"ast":null,"code":"import _slicedToArray from\"C:/Users/aloob/Desktop/pharmacy-site/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,Route}from\"react-router-dom\";import{signout}from\"./actions/userActions\";import CartScreen from\"./screens/CartScreen\";import HomeScreen from\"./screens/HomeScreen\";import OrderHistoryScreen from\"./screens/OrderHistoryScreen\";import OrderScreen from\"./screens/OrderScreen\";import PaymentMethodScreen from\"./screens/PaymentMethodScreen\";import PlaceOrderScreen from\"./screens/PlaceOrderScreen\";import ProductScreen from\"./screens/ProductScreen\";import ProfileScreen from\"./screens/ProfileScreen\";import RegisterScreen from\"./screens/RegisterScreen\";import ShippingAdressScreen from\"./screens/ShippingAdressScreen\";import SigninScreen from\"./screens/SigninScreen\";import PrivateRoute from\"./components/PrivateRoute\";import AdminRoute from\"./components/AdminRoute\";import ProductListScreen from\"./screens/ProductListScreen\";import ProductEditScreen from\"./screens/ProductEditScreen\";import OrderListScreen from\"./screens/OrderListScreen\";import UserListScreen from\"./screens/UserListScreen\";import UserEditScreen from\"./screens/UserEditScreen\";import WorkerRoute from\"./components/WorkerRoute\";import ProviderScreen from\"./screens/ProviderScreen\";import SearchScreen from\"./screens/SearchScreen\";import SearchBox from\"./components/SearchBox\";import{listProductCategories}from\"./actions/productActions\";import LoadingBox from\"./components/LoadingBox\";import MessageBox from\"./components/MessageBox\";import MapScreen from\"./screens/MapScreen\";import WorkersScreen from\"./screens/WorkersScreen\";import RegisterWorkerScreen from\"./screens/RegisterWorkerScreen\";import FormReleaseScreen from\"./screens/FormReleaseScreen\";import CategoryScreen from\"./screens/CategoryScreen\";import ProvidersScreen from\"./screens/ProvidersScreen\";import ProvidersEditScreen from\"./screens/ProvidersEditScreen\";import FormReleaseEditScreen from\"./screens/FormReleaseEditScreen\";import CategoryEditScreen from\"./screens/CategoryEditScreen\";import DashboardScreen from\"./screens/DashboardScreen\";import SupportScreen from\"./screens/SupportScreen\";import ChatBox from\"./components/ChatBox\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sidebarIsOpen=_useState2[0],setSidebarIsOpen=_useState2[1];var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;var userSignin=useSelector(function(state){return state.userSignin;});var userInfo=userSignin.userInfo;var dispatch=useDispatch();var signoutHandler=function signoutHandler(){dispatch(signout());};var productCategoryList=useSelector(function(state){return state.productCategoryList;});var loadingCategories=productCategoryList.loading,errorCategories=productCategoryList.error,categories=productCategoryList.categories;useEffect(function(){dispatch(listProductCategories());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"row-top\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"open-sidebar\",onClick:function onClick(){return setSidebarIsOpen(true);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-bars\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"brand\",children:\"web-\\u0430\\u043F\\u0442\\u0435\\u043A\\u0430\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Route,{render:function render(_ref){var history=_ref.history;return/*#__PURE__*/_jsx(SearchBox,{history:history});}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row center header\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/cart\",children:[\"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\",cartItems.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:cartItems.length})]}),userInfo?/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#\",children:[userInfo.name,\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-caret-down\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/orderhistory\",children:\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"#signout\",onClick:signoutHandler,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})})]})]}):/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0432 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"}),userInfo&&userInfo.isWorker&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#admin\",children:[\"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0430 \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-caret-down\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-content\",children:[userInfo.canManageProducts&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/productlist\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\\u043C\\u0438\"})}),userInfo.canManageOrders&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/orderlist\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\\u043C\\u0438\"})}),userInfo.canManageCategories&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/category\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\\u043C\\u0438\"})}),userInfo.canManageFormReleases&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/formRelease\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0444\\u043E\\u0440\\u043C\\u0430\\u043C\\u0438 \\u0432\\u044B\\u043F\\u0443\\u0441\\u043A\\u0430\"})}),userInfo.canManageProviders&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/providers\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u0441\\u0442\\u0430\\u0432\\u0449\\u0438\\u043A\\u0430\\u043C\\u0438\"})}),userInfo.canManageSupport&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/support\",children:\"\\u041E\\u0431\\u0440\\u0430\\u0442\\u043D\\u0430\\u044F \\u0441\\u0432\\u044F\\u0437\\u044C \\u0441 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\\u043C\\u0438\"})})]})]}),userInfo&&userInfo.isAdmin&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#admin\",children:[\"\\u0410\\u0434\\u043C\\u0438\\u043D-\\u043F\\u0430\\u043D\\u0435\\u043B\\u044C \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-caret-down\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:\"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/workers\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0430\\u043C\\u0438\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/userlist\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\\u043C\\u0438\"})})]})]})]})]}),/*#__PURE__*/_jsx(\"aside\",{className:sidebarIsOpen?\"open\":\"\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"categories\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSidebarIsOpen(false);},className:\"close-sidebar\",type:\"button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-close\"})})]}),loadingCategories?/*#__PURE__*/_jsx(LoadingBox,{}):errorCategories?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorCategories}):categories.map(function(c){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/search/category/\".concat(c.name),onClick:function onClick(){return setSidebarIsOpen(false);},children:c.name})},c.name);})]})}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Route,{path:\"/providerDetails/:id\",component:ProviderScreen}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",component:ProductScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id/edit\",component:ProductEditScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/provider/:id/edit\",component:ProvidersEditScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/formRelease/:id/edit\",component:FormReleaseEditScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/category/:id/edit\",component:CategoryEditScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/cart/:id?\",component:CartScreen},3),/*#__PURE__*/_jsx(Route,{path:\"/signin\",component:SigninScreen}),/*#__PURE__*/_jsx(Route,{path:\"/register\",component:RegisterScreen}),/*#__PURE__*/_jsx(Route,{path:\"/shipping\",component:ShippingAdressScreen}),/*#__PURE__*/_jsx(Route,{path:\"/payment\",component:PaymentMethodScreen}),/*#__PURE__*/_jsx(Route,{path:\"/placeorder\",component:PlaceOrderScreen}),/*#__PURE__*/_jsx(Route,{path:\"/order/:id\",component:OrderScreen}),/*#__PURE__*/_jsx(Route,{path:\"/orderhistory\",component:OrderHistoryScreen}),/*#__PURE__*/_jsx(PrivateRoute,{path:\"/profile\",component:ProfileScreen}),/*#__PURE__*/_jsx(PrivateRoute,{path:\"/map\",component:MapScreen}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/registerWorker\",component:RegisterWorkerScreen}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/workers\",component:WorkersScreen}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/dashboard\",component:DashboardScreen}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/productlist\",component:ProductListScreen,exact:true}),/*#__PURE__*/_jsx(WorkerRoute,{path:\"/orderlist\",component:OrderListScreen,exact:true}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/userlist\",component:UserListScreen}),/*#__PURE__*/_jsx(WorkerRoute,{path:\"/support\",component:SupportScreen}),/*#__PURE__*/_jsx(AdminRoute,{path:\"/user/:id/edit\",component:UserEditScreen}),/*#__PURE__*/_jsx(WorkerRoute,{path:\"/formRelease\",exact:true,component:FormReleaseScreen}),/*#__PURE__*/_jsx(WorkerRoute,{path:\"/category\",exact:true,component:CategoryScreen}),/*#__PURE__*/_jsx(WorkerRoute,{path:\"/providers\",component:ProvidersScreen}),/*#__PURE__*/_jsx(Route,{path:\"/search/name/:name?\",component:SearchScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/search/category/:category\",component:SearchScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/search/category/:category/name/:name\",component:SearchScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/search/category/:category/name/:name/min/:min/max/:max/rating/:rating/order/:order\",component:SearchScreen,exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/\",component:HomeScreen,exact:true},1)]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"row center\",children:[userInfo&&!userInfo.isAdmin&&!userInfo.isWorker&&/*#__PURE__*/_jsx(ChatBox,{userInfo:userInfo}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0412\\u0441\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0430 \\u0437\\u0430\\u0449\\u0438\\u0449\\u0435\\u043D\\u044B\"}),\" \"]})]});}export default App;","map":{"version":3,"sources":["C:/Users/aloob/Desktop/pharmacy-site/frontend/src/App.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","Route","signout","CartScreen","HomeScreen","OrderHistoryScreen","OrderScreen","PaymentMethodScreen","PlaceOrderScreen","ProductScreen","ProfileScreen","RegisterScreen","ShippingAdressScreen","SigninScreen","PrivateRoute","AdminRoute","ProductListScreen","ProductEditScreen","OrderListScreen","UserListScreen","UserEditScreen","WorkerRoute","ProviderScreen","SearchScreen","SearchBox","listProductCategories","LoadingBox","MessageBox","MapScreen","WorkersScreen","RegisterWorkerScreen","FormReleaseScreen","CategoryScreen","ProvidersScreen","ProvidersEditScreen","FormReleaseEditScreen","CategoryEditScreen","DashboardScreen","SupportScreen","ChatBox","App","sidebarIsOpen","setSidebarIsOpen","cart","state","cartItems","userSignin","userInfo","dispatch","signoutHandler","productCategoryList","loadingCategories","loading","errorCategories","error","categories","history","length","name","isWorker","canManageProducts","canManageOrders","canManageCategories","canManageFormReleases","canManageProviders","canManageSupport","isAdmin","map","c"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Route } from \"react-router-dom\";\nimport { signout } from \"./actions/userActions\";\nimport CartScreen from \"./screens/CartScreen\";\nimport HomeScreen from \"./screens/HomeScreen\";\nimport OrderHistoryScreen from \"./screens/OrderHistoryScreen\";\nimport OrderScreen from \"./screens/OrderScreen\";\nimport PaymentMethodScreen from \"./screens/PaymentMethodScreen\";\nimport PlaceOrderScreen from \"./screens/PlaceOrderScreen\";\nimport ProductScreen from \"./screens/ProductScreen\";\nimport ProfileScreen from \"./screens/ProfileScreen\";\nimport RegisterScreen from \"./screens/RegisterScreen\";\nimport ShippingAdressScreen from \"./screens/ShippingAdressScreen\";\nimport SigninScreen from \"./screens/SigninScreen\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport AdminRoute from \"./components/AdminRoute\";\nimport ProductListScreen from \"./screens/ProductListScreen\";\nimport ProductEditScreen from \"./screens/ProductEditScreen\";\nimport OrderListScreen from \"./screens/OrderListScreen\";\nimport UserListScreen from \"./screens/UserListScreen\";\nimport UserEditScreen from \"./screens/UserEditScreen\";\nimport WorkerRoute from \"./components/WorkerRoute\";\nimport ProviderScreen from \"./screens/ProviderScreen\";\nimport SearchScreen from \"./screens/SearchScreen\";\nimport SearchBox from \"./components/SearchBox\";\nimport { listProductCategories } from \"./actions/productActions\";\nimport LoadingBox from \"./components/LoadingBox\";\nimport MessageBox from \"./components/MessageBox\";\nimport MapScreen from \"./screens/MapScreen\";\nimport WorkersScreen from \"./screens/WorkersScreen\";\nimport RegisterWorkerScreen from \"./screens/RegisterWorkerScreen\";\nimport FormReleaseScreen from \"./screens/FormReleaseScreen\";\nimport CategoryScreen from \"./screens/CategoryScreen\";\nimport ProvidersScreen from \"./screens/ProvidersScreen\";\nimport ProvidersEditScreen from \"./screens/ProvidersEditScreen\";\nimport FormReleaseEditScreen from \"./screens/FormReleaseEditScreen\";\nimport CategoryEditScreen from \"./screens/CategoryEditScreen\";\nimport DashboardScreen from \"./screens/DashboardScreen\";\nimport SupportScreen from \"./screens/SupportScreen\";\nimport ChatBox from \"./components/ChatBox\";\n\nfunction App() {\n  const [sidebarIsOpen, setSidebarIsOpen] = useState(false);\n  const cart = useSelector((state) => state.cart);\n  const { cartItems } = cart;\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const dispatch = useDispatch();\n  const signoutHandler = () => {\n    dispatch(signout());\n  };\n\n  const productCategoryList = useSelector((state) => state.productCategoryList);\n  const {\n    loading: loadingCategories,\n    error: errorCategories,\n    categories,\n  } = productCategoryList;\n  useEffect(() => {\n    dispatch(listProductCategories());\n  }, [dispatch]);\n\n  return (\n    <div className=\"grid-container\">\n      <header className=\"row-top\">\n        <div>\n          <button\n            type=\"button\"\n            className=\"open-sidebar\"\n            onClick={() => setSidebarIsOpen(true)}\n          >\n            <i className=\"fa fa-bars\"></i>\n          </button>\n          <Link to=\"/\" className=\"brand\">\n            web-аптека\n          </Link>\n        </div>\n        <div>\n          <Route\n            render={({ history }) => <SearchBox history={history}></SearchBox>}\n          ></Route>\n        </div>\n        <div className=\"row center header\">\n          <Link to=\"/cart\">\n            Корзина\n            {cartItems.length > 0 && (\n              <span className=\"badge\">{cartItems.length}</span>\n            )}\n          </Link>\n          {userInfo ? (\n            <div className=\"dropdown\">\n              <Link to=\"#\">\n                {userInfo.name} <i className=\"fa fa-caret-down\"></i>\n              </Link>\n              <ul className=\"dropdown-content\">\n                <li>\n                  <Link to=\"/profile\">Профиль</Link>\n                </li>\n                <li>\n                  <Link to=\"/orderhistory\">История заказов</Link>\n                </li>\n                <li>\n                  <Link to=\"#signout\" onClick={signoutHandler}>\n                    Выйти\n                  </Link>\n                </li>\n              </ul>\n            </div>\n          ) : (\n            <Link to=\"/signin\">Войти в аккаунт</Link>\n          )}\n          {userInfo && userInfo.isWorker && (\n            <div className=\"dropdown\">\n              <Link to=\"#admin\">\n                Панель сотрудника <i className=\"fa fa-caret-down\"></i>\n              </Link>\n              <ul className=\"dropdown-content\">\n                {userInfo.canManageProducts &&(\n                  <li>\n                    <Link to=\"/productlist\">Управление товарами</Link>\n                  </li>\n                )}\n                {userInfo.canManageOrders &&(\n                  <li>\n                    <Link to=\"/orderlist\">Управление заказами</Link>\n                  </li>\n                )}\n                {userInfo.canManageCategories &&(\n                  <li>\n                    <Link to=\"/category\">Управление категориями</Link>\n                  </li>\n                )}\n                {userInfo.canManageFormReleases &&(\n                  <li>\n                    <Link to=\"/formRelease\">Управление формами выпуска</Link>\n                  </li>\n                )}\n                {userInfo.canManageProviders &&(\n                  <li>\n                    <Link to=\"/providers\">Управление поставщиками</Link>\n                  </li>\n                )}\n                {userInfo.canManageSupport &&(\n                  <li>\n                    <Link to=\"/support\">Обратная связь с клиентами</Link>\n                  </li>\n                )}\n              </ul>\n            </div>\n          )}\n          {userInfo && userInfo.isAdmin && (\n            <div className=\"dropdown\">\n              <Link to=\"#admin\">\n                Админ-панель <i className=\"fa fa-caret-down\"></i>\n              </Link>\n              <ul className=\"dropdown-content\">\n                <li>\n                  <Link to=\"/dashboard\">Статистика</Link>\n                </li>\n                <li>\n                  <Link to=\"/workers\">Управление сотрудниками</Link>\n                </li>\n\n                <li>\n                  <Link to=\"/userlist\">Управление клиентами</Link>\n                </li>\n              </ul>\n            </div>\n          )}\n        </div>\n      </header>\n      <aside className={sidebarIsOpen ? \"open\" : \"\"}>\n        <ul className=\"categories\">\n          <li>\n            <strong>Категории</strong>\n            <button\n              onClick={() => setSidebarIsOpen(false)}\n              className=\"close-sidebar\"\n              type=\"button\"\n            >\n              <i className=\"fa fa-close\"></i>\n            </button>\n          </li>\n          {loadingCategories ? (\n            <LoadingBox></LoadingBox>\n          ) : errorCategories ? (\n            <MessageBox variant=\"danger\">{errorCategories}</MessageBox>\n          ) : (\n            categories.map((c) => (\n              <li key={c.name}>\n                <Link\n                  to={`/search/category/${c.name}`}\n                  onClick={() => setSidebarIsOpen(false)}\n                >\n                  {c.name}\n                </Link>\n              </li>\n            ))\n          )}\n        </ul>\n      </aside>\n      <main>\n        <Route path=\"/providerDetails/:id\" component={ProviderScreen}></Route>\n        <Route path=\"/product/:id\" component={ProductScreen} exact></Route>\n        <Route\n          path=\"/product/:id/edit\"\n          component={ProductEditScreen}\n          exact\n        ></Route>\n        <Route\n          path=\"/provider/:id/edit\"\n          component={ProvidersEditScreen}\n          exact\n        ></Route>\n        <Route\n          path=\"/formRelease/:id/edit\"\n          component={FormReleaseEditScreen}\n          exact\n        ></Route>\n        <Route\n          path=\"/category/:id/edit\"\n          component={CategoryEditScreen}\n          exact\n        ></Route>\n        <Route path=\"/cart/:id?\" component={CartScreen} key={3}></Route>\n        <Route path=\"/signin\" component={SigninScreen}></Route>\n        <Route path=\"/register\" component={RegisterScreen}></Route>\n\n        <Route path=\"/shipping\" component={ShippingAdressScreen}></Route>\n        <Route path=\"/payment\" component={PaymentMethodScreen}></Route>\n        <Route path=\"/placeorder\" component={PlaceOrderScreen}></Route>\n\n        <Route path=\"/order/:id\" component={OrderScreen}></Route>\n        <Route path=\"/orderhistory\" component={OrderHistoryScreen}></Route>\n        <PrivateRoute path=\"/profile\" component={ProfileScreen}></PrivateRoute>\n        <PrivateRoute path=\"/map\" component={MapScreen}></PrivateRoute>\n        <AdminRoute\n          path=\"/registerWorker\"\n          component={RegisterWorkerScreen}\n        ></AdminRoute>\n        <AdminRoute path=\"/workers\" component={WorkersScreen}></AdminRoute>\n        <AdminRoute path=\"/dashboard\" component={DashboardScreen}></AdminRoute>\n        <AdminRoute\n          path=\"/productlist\"\n          component={ProductListScreen}\n          exact\n        ></AdminRoute>\n        <WorkerRoute\n          path=\"/orderlist\"\n          component={OrderListScreen}\n          exact\n        ></WorkerRoute>\n        <AdminRoute path=\"/userlist\" component={UserListScreen}></AdminRoute>\n        <WorkerRoute path=\"/support\" component={SupportScreen}></WorkerRoute>\n        <AdminRoute\n          path=\"/user/:id/edit\"\n          component={UserEditScreen}\n        ></AdminRoute>\n        <WorkerRoute\n          path=\"/formRelease\"\n          exact\n          component={FormReleaseScreen}\n        ></WorkerRoute>\n        <WorkerRoute\n          path=\"/category\"\n          exact\n          component={CategoryScreen}\n        ></WorkerRoute>\n        <WorkerRoute\n          path=\"/providers\"\n          component={ProvidersScreen}\n        ></WorkerRoute>\n        <Route\n          path=\"/search/name/:name?\"\n          component={SearchScreen}\n          exact\n        ></Route>\n        <Route\n          path=\"/search/category/:category\"\n          component={SearchScreen}\n          exact\n        ></Route>\n        <Route\n          path=\"/search/category/:category/name/:name\"\n          component={SearchScreen}\n          exact\n        ></Route>\n        <Route\n          path=\"/search/category/:category/name/:name/min/:min/max/:max/rating/:rating/order/:order\"\n          component={SearchScreen}\n          exact\n        ></Route>\n        <Route path=\"/\" component={HomeScreen} exact key={1}></Route>\n      </main>\n      <footer className=\"row center\">\n        {userInfo && !userInfo.isAdmin && !userInfo.isWorker && (\n          <ChatBox userInfo={userInfo} />\n        )}\n        <div>Все права защищены</div>{\" \"}\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}