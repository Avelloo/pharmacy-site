{"ast":null,"code":"import Moment from\"moment\";import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import\"moment/locale/ru\";import{listOrderMine}from\"../actions/orderActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function OrderHistoryScreen(props){var orderMineList=useSelector(function(state){return state.orderMineList;});var loading=orderMineList.loading,error=orderMineList.error,orders=orderMineList.orders;var moment=Moment;moment.locale(\"ru\");var dispatch=useDispatch();useEffect(function(){dispatch(listOrderMine());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"tableDiv\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"row center\",children:\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0418\\u0442\\u043E\\u0433\\u043E\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:moment(order.createdAt).format(\"lll\")}),/*#__PURE__*/_jsxs(\"td\",{children:[order.totalPrice,\" \\u0420\\u0443\\u0431.\"]}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid?moment(order.paidAt).format(\"lll\"):\"Нет\"}),/*#__PURE__*/_jsx(\"td\",{children:order.idDelivered?moment(order.deliveredAt).format(\"lll\"):\"Нет\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){props.history.push(\"/order/\".concat(order._id));},children:\"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"})})]},order._id);})})]})]});}","map":{"version":3,"sources":["C:/Users/aloob/Desktop/pharmacy-site/frontend/src/screens/OrderHistoryScreen.js"],"names":["Moment","React","useEffect","useDispatch","useSelector","LoadingBox","MessageBox","listOrderMine","OrderHistoryScreen","props","orderMineList","state","loading","error","orders","moment","locale","dispatch","map","order","_id","createdAt","format","totalPrice","isPaid","paidAt","idDelivered","deliveredAt","history","push"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAO,kBAAP,CACA,OAASC,aAAT,KAA8B,yBAA9B,C,wFAEA,cAAe,SAASC,CAAAA,kBAAT,CAA4BC,KAA5B,CAAmC,CAChD,GAAMC,CAAAA,aAAa,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACD,aAAjB,EAAD,CAAjC,CACA,GAAQE,CAAAA,OAAR,CAAmCF,aAAnC,CAAQE,OAAR,CAAiBC,KAAjB,CAAmCH,aAAnC,CAAiBG,KAAjB,CAAwBC,MAAxB,CAAmCJ,aAAnC,CAAwBI,MAAxB,CACA,GAAMC,CAAAA,MAAM,CAAGf,MAAf,CACAe,MAAM,CAACC,MAAP,CAAc,IAAd,EACA,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CACAD,SAAS,CAAC,UAAM,CACde,QAAQ,CAACV,aAAa,EAAd,CAAR,CACD,CAFQ,CAEN,CAACU,QAAD,CAFM,CAAT,CAGA,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,WAAI,SAAS,CAAC,YAAd,mGADF,CAEGL,OAAO,cACN,KAAC,UAAD,IADM,CAEJC,KAAK,cACP,KAAC,UAAD,EAAY,OAAO,CAAC,QAApB,UAA8BA,KAA9B,EADO,cAGP,eAAO,SAAS,CAAC,OAAjB,wBACE,oCACE,mCACE,+DADF,cAEE,iGAFF,cAGE,sDAHF,cAIE,iGAJF,cAKE,6GALF,cAME,wEANF,GADF,EADF,cAYE,uBACKC,MAAM,CAACI,GAAP,CAAW,SAACC,KAAD,qBACV,mCACE,oBAAKA,KAAK,CAACC,GAAX,EADF,cAEE,oBAAKL,MAAM,CAACI,KAAK,CAACE,SAAP,CAAN,CAAwBC,MAAxB,CAA+B,KAA/B,CAAL,EAFF,cAGE,sBAAKH,KAAK,CAACI,UAAX,0BAHF,cAIE,oBACGJ,KAAK,CAACK,MAAN,CAAeT,MAAM,CAACI,KAAK,CAACM,MAAP,CAAN,CAAqBH,MAArB,CAA4B,KAA5B,CAAf,CAAoD,KADvD,EAJF,cAOE,oBACGH,KAAK,CAACO,WAAN,CACGX,MAAM,CAACI,KAAK,CAACQ,WAAP,CAAN,CAA0BL,MAA1B,CAAiC,KAAjC,CADH,CAEG,KAHN,EAPF,cAYE,iCACA,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,OAFZ,CAGE,OAAO,CAAE,kBAAM,CACbb,KAAK,CAACmB,OAAN,CAAcC,IAAd,kBAA6BV,KAAK,CAACC,GAAnC,GACD,CALH,uFADA,EAZF,GAASD,KAAK,CAACC,GAAf,CADU,EAAX,CADL,EAZF,GAPJ,GADF,CAoDD","sourcesContent":["import Moment from \"moment\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport \"moment/locale/ru\";\nimport { listOrderMine } from \"../actions/orderActions\";\n\nexport default function OrderHistoryScreen(props) {\n  const orderMineList = useSelector((state) => state.orderMineList);\n  const { loading, error, orders } = orderMineList;\n  const moment = Moment;\n  moment.locale(\"ru\");\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(listOrderMine());\n  }, [dispatch]);\n  return (\n    <div className=\"tableDiv\">\n      <h1 className=\"row center\">История заказов</h1>\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID заказа</th>\n              <th>Дата создания</th>\n              <th>Итого</th>\n              <th>Статус оплаты</th>\n              <th>Статус доставки</th>\n              <th>Действия</th>\n            </tr>\n            \n          </thead>\n          <tbody>\n              {orders.map((order) => (\n                <tr key={order._id}>\n                  <td>{order._id}</td>\n                  <td>{moment(order.createdAt).format(\"lll\")}</td>\n                  <td>{order.totalPrice} Руб.</td>\n                  <td>\n                    {order.isPaid ? moment(order.paidAt).format(\"lll\") : \"Нет\"}\n                  </td>\n                  <td>\n                    {order.idDelivered\n                      ? moment(order.deliveredAt).format(\"lll\")\n                      : \"Нет\"}\n                  </td>\n                  <td>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() => {\n                      props.history.push(`/order/${order._id}`);\n                    }}\n                  >\n                    Детали заказа\n                  </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}